import pg from 'pg';

export type InsertIntoMytable1Params = {
	value: number | null;
}

export type InsertIntoMytable1Result = {
	id: number;
	value?: number;
}

export async function insertIntoMytable1(client: pg.Client | pg.Pool | pg.PoolClient, params: InsertIntoMytable1Params): Promise<InsertIntoMytable1Result | null> {
	const sql = `
	INSERT INTO mytable1 (value)
	VALUES ($1)
	RETURNING *
	`
	return client.query({ text: sql, values: [params.value] })
		.then(res => res.rows[0] ?? null);
}